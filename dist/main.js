(()=>{"use strict";class t{getPosition(t){return document.querySelector(t)}getRandomNum(t,i){return Math.floor(Math.random()*(i-t))+t}}const i=[{text:"Пишите код так, как будто сопровождать его будет склонный к насилию психопат, который знает, где вы живете",author:"Стив Макконнелл"},{text:"Сложность программы растет до тех пор, пока не превысит способности программиста",author:"Артур Блох. Законы Мэрфи"},{text:"Ходить по воде и разрабатывать программы, следуя ТЗ, очень просто… если они заморожены",author:"И. Берард"}];new class extends t{constructor(){super(),this.weatherIconPosition=this.getPosition(".weather-icon"),this.temperaturePosition=this.getPosition(".temperature"),this.weatherDescriptionPosition=this.getPosition(".weather-description"),this.windPosition=this.getPosition(".wind"),this.humidityPosition=this.getPosition(".humidity"),this.cityPosition=this.getPosition(".city"),this.city="Vilnius",this.init()}init(){this.localeStorage(),this.input()}createUrl(t){return`https://api.openweathermap.org/data/2.5/weather?q=${t}&lang=en&appid=6dbf9017d0d1b1f5da6659651d7871ec&units=metric`}async getWeather(){const t=this.createUrl(this.city),i=await fetch(t),e=await i.json();this.showWeather(e)}showWeather(t){this.weatherIconPosition.className="weather-icon owf",this.weatherIconPosition.classList.add(`owf-${t.weather[0].id}`),this.temperaturePosition.textContent=`${parseInt(t.main.temp)}°C`,this.weatherDescriptionPosition.textContent=t.weather[0].description,this.windPosition.textContent=`Wind speed: ${t.wind.speed} m/s`,this.humidityPosition.textContent=`Humidity: ${t.main.humidity}%`}input(){this.cityPosition.addEventListener("change",(()=>{this.city=this.cityPosition.value,this.getWeather()}))}localeStorage(){window.addEventListener("load",(()=>{const t=localStorage.getItem("city");t?(this.city=t,this.cityPosition.value=t):this.cityPosition.value=this.city,this.cityPosition.setAttribute("placeholder","[Enter city]"),this.getWeather()})),window.addEventListener("beforeunload",(()=>{localStorage.setItem("city",this.cityPosition.value)}))}},new class extends t{constructor(){super(),this.quotePosition=this.getPosition(".quote"),this.authorPosition=this.getPosition(".author"),this.buttonPosition=this.getPosition(".change-quote"),this.index=0,this.data=null,this.init()}init(){this.getQuotes(),this.showQuotes(),this.button()}getQuotes(){this.data=i}showQuotes(){this.quotePosition.textContent=this.data[this.index].text,this.authorPosition.textContent=this.data[this.index].author}button(){this.buttonPosition.addEventListener("click",(()=>{this.index++,this.index>=this.data.length&&(this.index=0),this.showQuotes()}))}};const e=new class extends t{constructor(){super(),this.greetingPosition=this.getPosition(".greeting"),this.namePosition=this.getPosition(".name"),this.timeOfDay=null,this.init()}init(){this.localeStorage()}setTimeOfDay(t){this.timeOfDay=t}updateTimeOfDay(t){this.setTimeOfDay(t),this.insertGreetingValue()}localeStorage(){window.addEventListener("load",(()=>{localStorage.getItem("name")&&(this.namePosition.value=localStorage.getItem("name")),this.namePosition.setAttribute("placeholder","[Enter name]")})),window.addEventListener("beforeunload",(()=>{localStorage.setItem("name",this.namePosition.value)}))}insertGreetingValue(){this.greetingPosition.textContent=`Good ${this.timeOfDay},`}},s=new class extends t{constructor(){super(),this.timeOfDay=null,this.sliderPosition=this.getPosition("body"),this.min=1,this.max=20,this.bgNum=this.getRandomNum(1,20),this.init()}init(){this.getPosition(".slide-prev").addEventListener("click",(()=>{this.bgNum=this.bgNum===this.min?this.max:this.bgNum-1,this.setBg()})),this.getPosition(".slide-next").addEventListener("click",(()=>{this.bgNum=this.bgNum===this.max?this.min:this.bgNum+1,this.setBg()}))}setTimeOfDay(t){this.timeOfDay=t}updateTimeOfDay(t){this.setTimeOfDay(t),this.setBg()}createImageUrl(t,i){return`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${t}/${i}.jpg`}setBg(){const t=new Image,i=this.createImageUrl(this.timeOfDay,this.bgNum.toString().padStart(2,"0"));t.src=i,t.onload=t=>{this.sliderPosition.style.backgroundImage=`url(${i})`}}},o=new class extends t{constructor(t){super(),this.date=new Date,this.currentDay=this.date.getDate(),this.currentHour=this.date.getHours(),this.timePosition=this.getPosition("time"),this.datePosition=this.getPosition("date"),this.partsDayArray=["night","morning","day","evening"],this.init(t)}init({everySecondCallback:t,everyHourCallback:i,everyDayCallback:e}){this.insertTimeValue(),this.insertDateValue(),setInterval((()=>{this.date=new Date,this.insertTimeValue(),this.currentHour!==this.date.getHours()&&(this.currentHour=this.date.getHours(),i&&i()),this.currentDay!==this.date.getDate()&&(this.currentDay=this.date.getDate(),this.insertDateValue())}),1e3)}getTimeOfDay(){return this.partsDayArray[Math.floor(this.currentHour/6)]}insertTimeValue(){this.timePosition.textContent=this.date.toLocaleTimeString()}insertDateValue(){this.datePosition.textContent=this.date.toLocaleDateString("en-En",{weekday:"long",month:"long",day:"numeric"})}}({everyHourCallback:()=>{e.updateTimeOfDay(o.getTimeOfDay()),s.updateTimeOfDay(o.getTimeOfDay())}});e.updateTimeOfDay(o.getTimeOfDay()),s.updateTimeOfDay(o.getTimeOfDay())})();